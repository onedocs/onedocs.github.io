(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{414:function(a,t,v){"use strict";v.r(t);var _=v(42),r=Object(_.a)({},(function(){var a=this,t=a.$createElement,v=a._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[v("p",[a._v("关于 MyCat 的铺垫文章已经写了两篇了：")]),a._v(" "),v("ol",[v("li",[v("a",{attrs:{href:"https://mp.weixin.qq.com/s/bcyjBgEqg6Or5zdi4jHaiA",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQL 只能做小项目？松哥要说几句公道话！"),v("OutboundLink")],1)]),a._v(" "),v("li",[v("a",{attrs:{href:"https://mp.weixin.qq.com/s/qUGANVj2mmoMwUZEV5Zc1w",target:"_blank",rel:"noopener noreferrer"}},[a._v("北冥有 Data，其名为鲲，鲲之大，一个 MySQL 放不下！"),v("OutboundLink")],1)])]),a._v(" "),v("p",[a._v("今天是最后一次铺垫，后面就可以迎接大 Boss 了！")]),a._v(" "),v("p",[a._v("本来今天就该讲 MyCat 了，但是我发现还有一个概念值得和大家聊一下，那就是 Java 中间件！")]),a._v(" "),v("p",[a._v("因为 MyCat 是一个"),v("strong",[a._v("分布式数据库中间件")]),a._v("，要理解 MyCat ，那你就得先知道到底什么是中间件！")]),a._v(" "),v("p",[a._v("松哥去年在一次外训中专门讲过中间件，本来想直接和大家分享一下讲稿，但是没找到，所以又动手敲了下。")]),a._v(" "),v("h2",{attrs:{id:"中间件简介"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#中间件简介"}},[a._v("#")]),a._v(" 中间件简介")]),a._v(" "),v("p",[a._v("说起中间件，很多人首先想到的就是消息中间件，那么除了消息中间件呢？其实我们日常开发中，接触到的中间件太多了，我们来看维基百科上的一段介绍：")]),a._v(" "),v("blockquote",[v("p",[a._v("中间件（英语：Middleware），又译中间件、中介层，是提供系统软件和应用软件之间连接的软件，以便于软件各部件之间的沟通。在现代信息技术应用框架如 Web 服务、面向服务的体系结构等项目中应用比较广泛。如数据库、Apache 的 Tomcat ，IBM 公司的 WebSphere ,BEA 公司的 WebLogic 应用服务器，东方通公司的 Tong 系列中间件，以及 Kingdee 公司的等都属于中间件。")])]),a._v(" "),v("p",[a._v("看到这个，你可能会大吃一惊，原来我们不知不觉不知不觉中已经用过这么多中间件了！甚至连 Tomcat 也是一个中间件！")]),a._v(" "),v("p",[a._v("中间件，顾名思义，就是连接在两个软件之间的东西，是软件之间的一个粘合剂，一个胶水一样的东西。它位于操作系统和我们的应用程序之间，可以让开发者方便地处理通信、输入和输出，使开发者能够专注于自己的业务逻辑开发。")]),a._v(" "),v("p",[a._v("这么一说，好像 Tomcat 确实还有点像中间件！位于我们的操作系统和应用程序之间！")]),a._v(" "),v("h2",{attrs:{id:"中间件分类"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#中间件分类"}},[a._v("#")]),a._v(" 中间件分类")]),a._v(" "),v("p",[a._v("中间件有很多，早在 1998 年 IDC 公司就将中间件分成了 6 大类，国内 2005 年之前出版的中间件相关的书上，很多都是按照这 6 大类来分的，分别是：")]),a._v(" "),v("ol",[v("li",[a._v("终端仿真/屏幕转换")]),a._v(" "),v("li",[a._v("数据访问中间件（UDA）")]),a._v(" "),v("li",[a._v("远程过程调用中间件（RPC）")]),a._v(" "),v("li",[a._v("消息中间件（MOM）")]),a._v(" "),v("li",[a._v("交易中间件（TPM）")]),a._v(" "),v("li",[a._v("对象中间件")])]),a._v(" "),v("p",[a._v("这里边除了消息中间件和交易中间件大家可能听说过之外，其他的中间件估计都很少听说，这是因为时代在变化，有的中间件慢慢被淘汰了（例如 终端仿真/屏幕转换 中间件），有的则慢慢合并到其他框架中去了（例如 远程过程调用中间件）。")]),a._v(" "),v("h2",{attrs:{id:"数据库中间件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#数据库中间件"}},[a._v("#")]),a._v(" 数据库中间件")]),a._v(" "),v("p",[a._v("那么什么是数据库中间件呢？")]),a._v(" "),v("p",[a._v("前面文章我们提到，如果数据量比较大的话，我们需要对数据进行分库分表，分完之后，原本存在一个数据库中的数据，现在就存在多个数据库中了，那么我们的项目结构可能就是下面这个样子了：")]),a._v(" "),v("p",[v("img",{attrs:{src:"http://www.javaboy.org/images/mysql/6-1.png",alt:""}})]),a._v(" "),v("p",[a._v("我们要在 Java 代码中配置复杂的多数据源，配置读写分离，数据查询的时候还要进行数据的预处理，例如从多个 DB 上加载到的数据要先进行排序、过滤等等操作，这样我们的 Java 代码就参杂了很多业务无关的方法，而且这些参杂进来的代码，大多数都还是重复的。")]),a._v(" "),v("p",[a._v("为了使开发人员，将更多精力放到业务上，我们引入数据库中间件，像下面这样：")]),a._v(" "),v("p",[v("img",{attrs:{src:"http://www.javaboy.org/images/mysql/6-2.png",alt:""}})]),a._v(" "),v("p",[a._v("这张图非常形象的说明了什么是中间件！一个介于两个应用程序之间的东西。引入 MyCat 中间件之后，我们的应用程序将只需要连接 MyCat 就行了，再由 MyCat 去操作各种不同的 DB，各个分布式数据库的排序、结果集合并、数据过滤等操作都在 MyCat 中完成，这样我们的 Java 应用又可以专注于业务的开发了，那些繁琐的重复的操作，又交给 MyCat 去完成。")]),a._v(" "),v("p",[a._v("如果没有数据库中间件，那么我们的 Java 应用程序将直接面对分片集群，数据源切换、事务处理、数据聚合等等众多问题，这样原本该是专注于业务的 Java 应用程序，将会花大量的工作来处理分片后的问题，而且大部分的代码又都是重复的！")]),a._v(" "),v("p",[a._v("有了数据库中间件，应用只需要集中与业务处理，大量的通用的数据聚合，事务，数据源切换都由中间件来处理，中间件的性能与处理能力将直接决定应用的读写性能，所以在项目中选择一款好的数据库中间件至关重要。")]),a._v(" "),v("h2",{attrs:{id:"结语"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[a._v("#")]),a._v(" 结语")]),a._v(" "),v("p",[a._v("好了，本文就简单介绍下中间件的基本概念，下文就可以正式开始聊分布式数据库中间件了！")]),a._v(" "),v("p",[v("strong",[a._v("如果小伙伴觉得松哥自己写的技术文章还过得去的话，欢迎积极转发，松哥每隔 15 天会根据微信后台数据，选一个分享转发最多的一位小伙伴，送一本松哥自己的签名书或者 Java 领域的经典书籍，欢迎大家积极参与，下一次开奖时间在下周。")])]),a._v(" "),v("p",[a._v("参考资料：")]),a._v(" "),v("ol",[v("li",[v("a",{attrs:{href:"http://www.mycat.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("MyCat 官方文档"),v("OutboundLink")],1)]),a._v(" "),v("li",[a._v("曾宪杰.大型网站系统与Java中间件实践[M].北京：电子工业出版社，2014.")])])])}),[],!1,null,null,null);t.default=r.exports}}]);